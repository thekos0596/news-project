function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequire2cb1;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},n.parcelRequire2cb1=o),o.register("kyEFX",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"jewIc":"read.4dd5427f.js","7XZkW":"defaultimage.febeee97.jpg","dCaos":"icons.4066d7ef.svg","9p2Wc":"default_hidden.b7ff1915.png","hmz2r":"read.70199006.js"}')),o("8FnLx"),o("Jj8Ku"),o("fzJJC");document.getElementsByClassName(".accordion__active");function i(){document.querySelectorAll(".accordion__wrap").forEach((e=>{e.querySelector(".accordion__active").addEventListener("click",(()=>{e.classList.toggle("active")}))}))}i();var c;c=new URL(o("kyEFX").resolve("dCaos"),import.meta.url).toString();var s;s=new URL(o("kyEFX").resolve("9p2Wc"),import.meta.url).toString();var d;d=new URL(o("kyEFX").resolve("7XZkW"),import.meta.url).toString();var l=o("fR55w");l=o("fR55w");const u=document.querySelector(".container__read"),f=document.querySelector(".accordion"),_=JSON.parse(localStorage.getItem("readList"))||[],v=JSON.parse(localStorage.getItem("favoriteList"))||[];u.addEventListener("click",(function(e){(0,l.checkFavorites)(v)})),u.addEventListener("click",(function(e){const n=e.target;n.classList.contains("news-card__favorite-button")?(console.log("this is favorire"),function(e){const n=e.target.closest(".news-card__favorite-button"),r=n.dataset.newsId,a=JSON.parse(localStorage.getItem("readList"))||[],o=JSON.parse(localStorage.getItem("favoriteList"))||[],i=o.findIndex((e=>e.title===r)),s=-1===i;if(s){const e=a.find((e=>e.title===r));o.push(e)}else o.splice(i,1);localStorage.setItem("favoriteList",JSON.stringify(o)),n.textContent=s?"Remove from favorite":"Add to favorite",function(e,n){const r=e?`${t(c)}#icon-heart`:`${t(c)}#icon-favorite`,a=document.createElement("svg");a.classList.add("news-card__favorite-icon"),a.setAttribute("width","13"),a.setAttribute("height","12");const o=document.createElement("use");o.setAttribute("href",r),a.appendChild(o),n.insertAdjacentHTML("beforeend",a.outerHTML)}(s,n)}(e)):n.classList.contains("news-card__read-more")&&console.log("news-card__read-more")}));const g=_.map((e=>{const n=new Date(e.readAt),r=`${n.getDate().toString().padStart(2,"0")}/${(n.getMonth()+1).toString().padStart(2,"0")}/${n.getFullYear()}`,a=new Date(e.published_date),o=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`,{multimedia:i=[]}=e,c=i&&i[2]?.url?i[2].url:t(d),s=i&&i[2]?.caption?i[2].caption:"Default Image";return{...e,readAt:r,published_date:o,imageUrl:c,imageAlt:s}}));!function(){u.insertAdjacentHTML("beforeEnd",_&&0!==_.length?"":`\n    <div class="page-empty">\n    <h2 class="page-empty__text">You don't have any read news</h2>\n    <img src="${t(s)}" alt="You have not read news" class="page-empty__img">\n    </div>`);const e=new Set;g.forEach((({readAt:t})=>{e.add(t)}));const n=Array.from(e).map((e=>`\n              <div class="accordion__wrap">\n                  <div class="accordion__active">\n                    <div class="read__date">${e}</div>\n                    <svg class="accordion_icon" width="15" height="9">\n                      <use href="${t(c)}#icon-vector-down"></use>\n                    </svg>\n                  </div>\n                  <hr class="accordion__line">\n                  <div class="content">\n                    <div class="news-card">\n                      <ul class="news-card__image-container">\n                      </ul>\n                    </div>\n                  </div>\n              </div>\n          `)).reverse().join("");f.insertAdjacentHTML("beforeEnd",n),i()}(),function(){const e=document.querySelectorAll(".read__date"),n=g.reduce(((e,t)=>{const n=t.readAt;return e[n]||(e[n]=[]),e[n].push(t),e}),{});e.forEach((e=>{const r=e.textContent,a=n[r]||[],o=e.closest(".accordion__wrap").querySelector(".news-card__image-container");a.forEach((e=>{e.readAt===r&&o.insertAdjacentHTML("beforeEnd",function({abstract:e,section:n,title:r,published_date:a,imageUrl:o,imageAlt:i,url:s}){const d=[].includes(r.toUpperCase()),l=d?"icon-favorite":"icon-heart";return`\n    <li class="news-card__item">\n      <div class="news-card__foto">\n        <img src="${o}" alt="${i}" class="news-card__image">\n        <div class="news-card__category">\n        ${n}\n        </div>\n        <button class="news-card__favorite-button" data-news-id="${r}">${d?"Remove from favorite":"Add to favorite"}<svg width="13" height="12" class="news-card__favorite-icon">\n        <use href="${t(c)}#${l}"></use></svg>\n         </button>\n      </div>\n      <div class="news-card__description">\n        <h2 class="news-card__title">${r}</h2>\n        <p class="news-card__abstract">\n        ${e}\n        </p>\n      </div>\n      <div class="news-card__container">\n        <div class="news-card__date">\n          ${a}\n        </div>\n      <a href="${s}" target="_blank" rel="noreferrer noopener nofollow" class="news-card__read-more" data-news-id="${r}">\n        Read more\n      </a>\n    </div>\n  </li>\n  `}(e))}))}))}(),o("gFtyN"),o("fR55w");
//# sourceMappingURL=read.4dd5427f.js.map
